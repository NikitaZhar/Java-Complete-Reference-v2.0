2025-10-27 13:40
Tags: #Values #toFormat 


Если тип задаёт форму и допустимые свойства данных, то **значение** представляет собой конкретное проявление этой формы во время выполнения программы.  
В Java каждое вычисление приводит к появлению значения строго определённого типа.

---

## 4.1.2.1 Формальное определение

**Значение** — это конкретная сущность, получаемая в результате вычисления выражения или хранящаяся в переменной.  
Каждое значение **обязательно принадлежит ровно одному типу**, и тип полностью определяет свойства этого значения и разрешённые над ним операции.

> Значение — это _элемент множества_, заданного типом.

---

## 4.1.2.2 Свойства значений

Для любого значения в Java выполняются следующие условия:

1. Значение не может существовать вне типа — нельзя иметь «просто 5»; корректно говорить «значение 5 типа `int`».
    
2. Тип определяет способ хранения и поведения значения.
    
3. Каждое выражение при вычислении либо даёт значение своего типа, либо вызывает исключение.
    
4. Для ссылочных типов значение может быть либо ссылкой на объект, либо специальным значением `null`.
    

---

## 4.1.2.3 Категории значений

Все значения в Java относятся к одной из следующих категорий:

|Категория|Примеры|Описание|
|---|---|---|
|**Примитивные значения**|`42`, `3.14`, `true`, `'A'`|Хранятся непосредственно|
|**Ссылочные значения**|ссылка на объект в куче|Указывают на объект или `null`|
|**Специальное значение `null`**|`null`|Обозначает отсутствие объекта|
|**Литералы класса**|`String.class`, `int.class`|Значения типа `Class`, представляющие тип как объект метаданных. См. [[Class Literals and Class Metadata]].|

Каждое значение интерпретируется в соответствии с типовой системой. Например, `null` имеет особый «`null type`» и совместимо со всеми ссылочными типами, но несовместимо с примитивными.

---

## 4.1.2.4 Значения примитивных и ссылочных типов

|Характеристика|Примитивные значения|Ссылочные значения|
|---|---|---|
|Представление|Непосредственно (битовый формат)|Ссылка (указатель на объект в куче)|
|Возможность быть `null`|Нет|Да (значение `null`)|
|Изменяемость|Неизменяемы|Зависит от объекта|
|Хранение|Стек или внутри объекта|Ссылка в стеке + объект в куче|

---

## 4.1.2.5 Значение vs отсутствие значения

- Значение **существует**, если выражение завершилось успешно.
    
- В случае исключения (`exception`) значение **не создаётся**.
    
- Значение `null` **является значением**, но **обозначает отсутствие объекта**.
    

```java
String s = null; // переменная имеет значение null, но не указывает на объект
```

---

## 4.1.2.6 Значение и вычисление выражений

Каждое выражение в Java имеет:

- **тип** (определяется на этапе компиляции),
    
- **значение** (появляется при выполнении).
    

```java
int x = 5 + 3;       // выражение 5 + 3 имеет тип int и значение 8
String s = "a" + "b"; // выражение имеет тип String и значение "ab"
```

Если вычисление приводит к ошибке (например, деление на ноль для целых типов), значение **не будет создано**, и выполнение продолжится через механизм исключений.

---

## 4.1.2.7 Runtime-существование значений

- Примитивное значение _существует непосредственно_ и живёт в стеке или внутри объекта.
    
- Ссылочное значение _существует как ссылка_, указывающая на объект в куче или содержащее `null`.
    
- Объекты, на которые указывают ссылочные значения, размещаются в куче (`heap`) и управляются JVM.
    

---

## 4.1.2.8 Жизненный цикл значений

- **Примитивные значения** создаются при выполнении выражений, передаче аргументов или инициализации переменных и уничтожаются при выходе из области видимости.
    
- **Ссылочные значения** создаются при выполнении операций `new`, литералов строк и массивов, а также при обращении к полям.  
    Объект, на который указывает ссылка, существует в куче до тех пор, пока на него остаются ссылки из корневого множества (`GC roots`).
    
- После потери всех ссылок объект становится недостижимым и подлежит сборке мусора.
    

> Таким образом, примитивные значения живут в стеке или внутри объектов,  
> а ссылочные — в куче и управляются системой сборки мусора.

---

## 4.1.2.9 Итог

- Значение — это конкретный экземпляр данных, принадлежащий определённому типу.
    
- Все значения делятся на **примитивные** и **ссылочные**, включая особое значение `null`.
    
- Тип определяет свойства и допустимые операции, а значение реализует их во время выполнения.
    
- Значения существуют только во время исполнения программы и исчезают при завершении области действия или сборке мусора.
    

> Далее см. [[4.2 Primitive Types and Values]] для анализа конкретных примитивных категорий и их представления в JVM.

---

Хочешь, чтобы я сразу подготовил следующий логический раздел — **4.2 Primitive Types and Values** — в том же академическом формате (категории, диапазоны, хранение, поведение при преобразованиях, связь с JVM-инструкциями)?