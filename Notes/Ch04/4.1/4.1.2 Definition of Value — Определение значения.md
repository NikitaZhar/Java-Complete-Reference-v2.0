2025-10-27 13:40
Tags: #toFormat

4.1.2 Definition of Value — Определение значения

## **4.1.2.1 Формальное определение**

**Значение** — это конкретная сущность, получаемая в результате вычисления выражения или хранящаяся в переменной.  
Каждое значение **обязательно принадлежит ровно одному типу**, и тип полностью определяет свойства этого значения и разрешённые над ним операции.

> Значение — это _элемент множества_, заданного типом.

---

## **4.1.2.2 Свойства значений**

Для любого значения в Java выполняются следующие условия:

1. **Значение не может существовать вне типа**:
    
    - нельзя иметь «просто 5»; корректно говорить «значение 5 типа `int`».
        
2. **Тип определяет способ хранения и поведения значения**.
    
3. **Каждое выражение при вычислении либо даёт значение своего типа, либо вызывает исключение**.
    
4. **Для ссылочных типов** значение может быть либо ссылкой на объект, либо специальным значением `null`.
    

---

## **4.1.2.3 Категории значений**

Все значения в Java относятся к одной из следующих категорий:

| Категория                       | Примеры                     | Описание                                                                                                    |
| ------------------------------- | --------------------------- | ----------------------------------------------------------------------------------------------------------- |
| **Примитивные значения**        | `42`, `3.14`, `true`, `'A'` | Хранятся непосредственно                                                                                    |
| **Ссылочные значения**          | ссылка на объект в куче     | Указывают на объект или `null`                                                                              |
| **Специальное значение `null`** | `null`                      | Обозначает отсутствие объекта                                                                               |
| **Литералы класса**             | `String.class`, `int.class` | Значения типа `Class`, представляющие тип как объект метаданных. См. [[Class Literals and Class Metadata]]. |

Каждое значение интерпретируется в соответствии с типовой системой. Например, `null` имеет особый «null type» и совместимо со всеми ссылочными типами, но несовместимо с примитивными.



---

## **4.1.2.4 Значения примитивных и ссылочных типов**

|Характеристика|Примитивные значения|Ссылочные значения|
|---|---|---|
|Представление|Непосредственно (битовый формат)|Ссылка (указатель на объект в куче)|
|Возможность быть `null`|Нет|Да (значение `null`)|
|Изменяемость|Неизменяемы|Зависит от объекта|
|Хранение|Стек или внутри объекта|Ссылка в стеке + объект в куче|

---

## **4.1.2.5 Значение vs отсутствие значения**

- Значение **существует**, если выражение завершилось успешно.
    
- В случае исключения (`exception`) значение **не создаётся**.
    
- Значение `null` **является значением**, но **обозначает отсутствие объекта**.
    

```java
String s = null; // переменная имеет значение null, но не указывает на объект
```

---

## **4.1.2.6 Значение и вычисление выражений**

Каждое выражение в Java имеет:

- **тип** (определяется на этапе компиляции),
    
- **значение** (появляется при выполнении).
    

```java
int x = 5 + 3; // выражение 5 + 3 имеет тип int и значение 8
String s = "a" + "b"; // выражение имеет тип String и значение "ab"
```

Если вычисление приводит к ошибке (например, деление на ноль для целых типов), значение **не будет создано**, и выполнение продолжится через механизм исключений.

---

## **4.1.2.7 Runtime-существование значений**

- Примитивное значение _существует непосредственно_.
    
- Ссылочное значение _существует как ссылка_, которая может указывать на объект или содержать `null`.
    
- Объекты, на которые указывают ссылочные значения, размещаются в куче (`heap`) и управляются JVM.
    

---

## **4.1.2.8 Вывод**

Значение является **конкретным проявлением абстракции типа во время выполнения программы**.  
Тип определяет возможное множество, значение — конкретный элемент этого множества.  
Тип без значения — допустимая абстракция; значение без типа — невозможно.

---

## **Cross-References**

- См. также:
    
    - **[[4.1.1 Definition of Type]]** — формальное описание множества, которому принадлежит значение.
        
    - **[[4.1.4 Type vs Value]]** — различие между абстракцией типа и конкретной сущностью.
        
    - **[[4.1.5 Static vs Runtime Type]]** — влияние типа на вычисление значений.
        
    - **[[4.3.1 Null Type]]** — значение `null` как особая категория.
        
    - **[[4.2 Primitive Types and Values — Примитивные типы и их значения]]** — конкретные наборы примитивных значений.
        
    - **[[4.3.0 Reference Types — Overview]]** — объекты, ссылки и хранение значений в памяти.
        
