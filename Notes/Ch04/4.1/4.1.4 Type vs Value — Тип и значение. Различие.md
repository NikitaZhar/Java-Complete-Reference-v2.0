2025-10-27 13:44
Tags: #toFormat


4.1.4 Type vs Value — Тип и значение. Различие
## **4.1.4.1 Концептуальное разделение**

В системе типов Java необходимо строго различать понятия **типа** и **значения**, поскольку они принадлежат к разным уровням абстракции:

- **Тип** — это _абстрактная модель_, определяющая множество допустимых значений и операций.
    
- **Значение** — это _конкретный представитель_ этого множества, возникающий при выполнении программы.
    

> Тип существует на уровне компиляции как правило, значение существует на уровне выполнения как факт.

---

## **4.1.4.2 Тип как описание, значение как экземпляр**

|Характеристика|Тип|Значение|
|---|---|---|
|Природа|Абстракция|Конкретная сущность|
|Множество|Определяет множество значений|Является элементом этого множества|
|Роль|Определяет, _что возможно делать_|Является _тем, с чем выполняются действия_|
|Существование|Может существовать без значения|Не может существовать без типа|

---

## **4.1.4.3 Пример на примитивном типе**

```java
int x;     // тип: int; значение временно отсутствует (переменная не инициализирована)
x = 42;    // значение 42 принадлежит типу int
```

- Здесь `int` — абстракция (тип), `42` — конкретное значение данного типа.
    
- Тип `int` существует независимо от того, существует ли переменная `x` или какое значение она содержит.
    

---

## **4.1.4.4 Пример на ссылочном типе**

```java
String s = null;     // тип: String; значение: null (отсутствие объекта)
s = "Java";          // тип: String; значение: ссылка на объект String в куче
```

- Тип `String` задаёт структуру и поведение объектов типа String.
    
- Значение `"Java"` — конкретный объект (или ссылка на него).
    
- Значение `null` — тоже значение, но означает отсутствие объекта.
    

---

## **4.1.4.5 Тип определяет допустимость операций**

- Операции применимы **к типу**, а не к значению напрямую.
    
- Значение может находиться в состоянии ошибки только в контексте типа.
    

```java
int a = 5;
int b = a + 1;   // операция сложения допустима, т.к. тип int поддерживает +
String s = "x";
String t = s + "y"; // допустимо, т.к. тип String поддерживает конкатенацию
int x = s + 1;  // ошибка компиляции: тип String не поддерживает +
```

---

## **4.1.4.6 Несовместимость типов даже при наличии совместимых значений**

```java
int x = 1;
String s = "1";
x == s; // ошибка: типы несовместимы, несмотря на одинаковое «значение» по смыслу
```

---

## **4.1.4.7 Тип определяет поведение при выполнении**

При полиморфизме исполняемый (runtime) тип определяет конкретную реализацию метода:

```java
Number n = Double.valueOf(3.14);
System.out.println(n.getClass()); // Double
```

- Статический тип: Number
    
- Значение имеет исполняемый тип: Double
    
- Именно значение (его runtime-тип) определяет, какой метод будет вызван.
    

---

## **4.1.4.8 Вывод**

- Тип — это _контракт_.
    
- Значение — _фактическое состояние программы_.
    
- Тип существует даже без значения.
    
- Значение всегда принадлежит типу.
    

> Тип задаёт правила. Значение проявляет эти правила на практике.

---

## **Cross-References**

- См. также:
    
    - **[[4.1.1 Definition of Type]]** — формальные свойства типа.
        
    - **[[4.1.2 Definition of Value]]** — природа и классификация значений.
        
    - **[[4.1.5 Static vs Runtime Type]]** — взаимодействие типов и значений во время выполнения.
        
    - **[[4.3.1 Null Type]]** — значение, представляющее отсутствие объекта.
        
    - **[[4.2 Primitive Types and Values — Примитивные типы и их значения]]** — конкретные множества значений примитивов.
        
